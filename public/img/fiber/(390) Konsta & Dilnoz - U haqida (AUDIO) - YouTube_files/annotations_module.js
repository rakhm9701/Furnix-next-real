(function(g){var window=this;'use strict';var Oz=function(z){z.publish("cardstatechange",z.Ll()&&z.Qd()?1:0)},wi=function(z,p){var c=g.sx(p),B=c?p:arguments;
for(c=c?0:1;c<B.length;c++){if(z==null)return;z=z[B[c]]}return z},ThJ=function(z){var p=g.$m(z);
z=g.Wx(z);return new g.J_(p.x,p.y,z.width,z.height)},bwg=function(z,p,c){var B=B===void 0?{}:B;
var H;return H=g.uL(z,p,function(){g.aw(H);c.apply(z,arguments)},B)},$e=function(z){z=g.GY(z);
delete Ri[z];g.y3(Ri)&&S$&&S$.stop()},DiE=function(){S$||(S$=new g.B4(function(){VfJ()},20));
var z=S$;z.isActive()||z.start()},VfJ=function(){var z=g.p9();
g.Rx(Ri,function(p){tfd(p,z)});
g.y3(Ri)||DiE()},Kr=function(z,p,c,B){g.ma.call(this);
if(!Array.isArray(z)||!Array.isArray(p))throw Error("Start and end parameters must be arrays");if(z.length!=p.length)throw Error("Start and end points must be the same length");this.K=z;this.G=p;this.duration=c;this.L=B;this.coords=[];this.progress=this.V=0;this.X=null},tfd=function(z,p){p<z.startTime&&(z.endTime=p+z.endTime-z.startTime,z.startTime=p);
z.progress=(p-z.startTime)/(z.endTime-z.startTime);z.progress>1&&(z.progress=1);z.V=1E3/(p-z.X);z.X=p;XAK(z,z.progress);z.progress==1?(z.W=0,$e(z),z.onFinish(),z.CI()):z.isPlaying()&&z.cF()},XAK=function(z,p){typeof z.L==="function"&&(p=z.L(p));
z.coords=Array(z.K.length);for(var c=0;c<z.K.length;c++)z.coords[c]=(z.G[c]-z.K[c])*p+z.K[c]},xiK=function(z,p){g.jS.call(this,z);
this.coords=p.coords;this.x=p.coords[0];this.y=p.coords[1];this.z=p.coords[2];this.duration=p.duration;this.progress=p.progress;this.fps=p.V;this.state=p.W},u1=function(z,p,c,B,H){Kr.call(this,p,c,B,H);
this.element=z},ECE=function(z,p,c,B,H){if(p.length!=2||c.length!=2)throw Error("Start and end points must be 2D");
u1.call(this,z,p,c,B,H)},qUE=function(z){return Math.pow(z,3)},JuE=function(z){return 3*z*z-2*z*z*z},Mfd=function(z){g.e.call(this);
this.K=z||window;this.W=[]},ai=function(z){return z.baseUrl||null},Zf=function(z,p){return g.M3(g.d7(z,p),function(c){return!!c})},YU$=function(z,p,c){function B(VW){var f=VW.hovercardButton;
if(!f)return null;f=f.subscribeButtonRenderer;if(!f)return null;var F=T(f.unsubscribedButtonText),N=T(f.subscribedButtonText);if(f.subscribed){var h=T(f.subscriberCountWithUnsubscribeText);var n=T(f.subscriberCountText)}else h=T(f.subscriberCountText),n=T(f.subscriberCountWithSubscribeText);var FY=null;if(VW.signinEndpoint){FY=wi(VW,"signinEndpoint","webNavigationEndpointData","url");if(!FY){var Rg,Md;FY=(Md=g.I((Rg=f.signInEndpoint)==null?void 0:Rg.commandMetadata,g.Jt))==null?void 0:Md.url}if(!FY)return null}return F&&
(N||FY)?{subscribed:f.subscribed,subscribeText:F,subscribeCount:h,unsubscribeText:N,unsubscribeCount:n,enabled:f.enabled,signinUrl:FY,classic:VW.useClassicSubscribeButton}:null}
function H(VW){if(VW){var f=[],F=VW.videoId;F&&f.push("v="+F);(F=VW.playlistId)&&f.push("list="+F);(VW=VW.startTimeSeconds)&&f.push("t="+VW);return"/watch?"+f.join("&")}}
function T(VW){if(!VW)return null;var f=VW.simpleText;return f?f:VW.runs?g.d7(VW.runs,function(F){return F.text}).join(""):null}
p=p.endscreenElementRenderer;if(!p)return null;var b=p.style,D=p.endpoint||{},t=null,X=null,x=!1,E=null,q=null,J=null,M=null,P=!1,O=null,R=null,K=null,Z=null,W=null,v=null;if(b==="VIDEO")g.I(D,g.Qj)?t=g.I(D,g.Qj).url:(v=g.I(D,g.ir),t=H(v)),X=!1,E=z,p.thumbnailOverlays?(x=p.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,q=T(x.text),x=x.style==="LIVE"):q=T(p.videoDuration);else if(b==="PLAYLIST")g.I(D,g.Qj)?t=g.I(D,g.Qj).url:(v=g.I(D,g.ir),t=H(v)),X=!1,E=z,J=T(p.playlistLength);else if(b===
"CHANNEL"){if(P=wi(D,"browseEndpoint","browseId"))M=P,t="/channel/"+M;X=!1;E="new";(P=!!p.isSubscribe)?O=B(p):R=T(p.subscribersText)}else b==="WEBSITE"?((K=wi(D,"urlEndpoint","url"))&&(t=K),X=!0,E="new",K=p.icon.thumbnails[0].url):b==="CREATOR_MERCHANDISE"&&(p.productPrice&&(Z=T(p.productPrice)),p.additionalFeesText&&(W=T(p.additionalFeesText)),(X=wi(D,"urlEndpoint","url"))&&(t=X),X=!0,E="new");z=wi(p,"title","accessibility","accessibilityData","label");var zY=p.endpoint?p.endpoint.clickTrackingParams:
null,U="";if(p.metadata){var HD=T(p.metadata);HD&&(U=HD)}return{id:"element-"+c,type:b,title:T(p.title),metadata:U,callToAction:T(p.callToAction),V1:p.image,iconUrl:K,left:Number(p.left),width:Number(p.width),top:Number(p.top),aspectRatio:Number(p.aspectRatio),startMs:Math.floor(Number(p.startMs)),endMs:Math.floor(Number(p.endMs)),videoDuration:q,kI:x,playlistLength:J,channelId:M,subscribeButton:O,subscribersText:R,isSubscribe:P,targetUrl:t||null,XMD:X,sessionData:zY?{itct:zY}:null,m_D:E,Kw:z?z:null,
isPlaceholder:p.isPlaceholder,impressionUrls:Zf(p.impressionUrls||[],ai),lt$:Zf(p.hovercardShowUrls||[],ai),clickUrls:Zf(D.loggingUrls||[],ai),visualElement:g.ZU(p.trackingParams),productPrice:Z,additionalFeesText:W,watchEndpoint:v||null}},mim=function(z,p){var c={startMs:Math.floor(Number(z.startMs)),
impressionUrls:Zf(z.impressionUrls||[],ai),elements:Zf(z.elements||[],function(B,H){return YU$(p,B,H)})};
z.trackingParams&&(c.visualElement=g.ZU(z.trackingParams));return c},h21=function(z){g.Ms.call(this,z);
this.X=this.endscreen=null;this.K={};this.V={};this.L=this.D=null;this.S=[];this.W=null;this.MZ=!0;this.G=0;z=z.N();this.U=g.jF(z)||g.o6(z);this.events=new g.or(this);g.l(this,this.events);this.events.Z(this.player,g.E5("creatorendscreen"),this.onCueRangeEnter);this.events.Z(this.player,g.qT("creatorendscreen"),this.onCueRangeExit);this.events.Z(this.player,"resize",this.UW);this.events.Z(window,"focus",this.M8H);this.load();var p=g.i4("STYLE");(g.gC("HEAD")[0]||document.body).appendChild(p);this.addOnDisposeCallback(function(){g.t3(p)});
p.sheet&&(p.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),p.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},PvK=function(z){return z.player.getVideoData().Sd?"current":z.U?"new":"current"},Lr=function(z){return z.player.N().playerStyle==="creator-endscreen-editor"},Au1=function(z){var p=z.player.getVideoData(),c=p.videoId;
z.X&&z.X.abort();c={method:"POST",onFinish:function(H){var T=z.X=null;H.status===200&&(H=H.responseText,H.substring(0,3)===")]}"&&(H=H.substring(3),T=JSON.parse(H),T=mim(T,PvK(z))));di(z,T)},
urlParams:{v:c},withCredentials:!0};z.U&&(c.urlParams.ptype="embedded");var B=p.Zi;B&&(c.postParams={ad_tracking:B});if(p=g.xpx(p))if(p=g.lv(p),p=g.y5(p))z.X=g.dS(p,c)},di=function(z,p,c){c=c===void 0?!0:c;
z.player.gs("creatorendscreen");z.D&&(z.D.dispose(),z.D=null,z.L.dispose(),z.L=null);for(var B=g.m(Object.values(z.K)),H=B.next();!H.done;H=B.next())H.value.dispose();z.K={};z.V={};z.S.length>0&&(z.S.forEach(function(D){D.dispose()}),z.S.length=0);
z.W&&(g.Jn(z.W,"ytp-ce-element-show"),z.W.setAttribute("aria-hidden","true"));z.G=0;if((z.endscreen=p)&&p.elements){c&&Owz(z);c=[];B=new g.Xq(p.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});c.push(B);z.player.N().K||(z.D=new g.Q({j:"div",B:"ytp-ce-shadow"}),g.F7(z.player,z.D.element,4),z.L=new g.Da(z.D,200));for(B=0;B<p.elements.length;++B){H=p.elements[B];var T=wAd(z,H);if(T){z.K[H.id]=T;z.V[H.id]=H;g.F7(z.player,T.element,4);var b=new g.Xq(H.startMs,H.endMs,{id:"ytp-ce-element-"+
H.id,namespace:"creatorendscreen"});c.push(b);R2Q(z,T,H)}else g.oc(new g.z6("buildEndscreenElement null",H))}z.player.KN(c);z.UW()}},Owz=function(z){var p=g.dH(),c=g.Wu();
c&&p&&z.endscreen.visualElement&&g.iO(g.pB)(void 0,c,p,z.endscreen.visualElement)},wAd=function(z,p){var c=null;
switch(p.type){case "VIDEO":z={j:"div",LH:["ytp-ce-element","ytp-ce-video"],C:{tabindex:"0","aria-label":p.Kw||"","aria-hidden":"true"},J:[{j:"div",B:"ytp-ce-element-shadow"},{j:"div",B:"ytp-ce-covering-image",C:WB(p)},{j:"div",B:"ytp-ce-covering-shadow-top"},{j:"a",B:"ytp-ce-covering-overlay",C:{href:yb(z,p.targetUrl),tabindex:"-1"},J:[{j:"div",LH:["ytp-ce-video-title","ytp-webkit-ellipsis"],C:{dir:g.wD(p.title||"")},F3:p.title},{j:"div",B:p.kI?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
F3:p.videoDuration||void 0}]}]};c=new g.Q(z);break;case "PLAYLIST":z={j:"div",LH:["ytp-ce-element","ytp-ce-playlist"],C:{tabindex:"0","aria-label":p.Kw||"","aria-hidden":"true"},J:[{j:"div",B:"ytp-ce-element-shadow"},{j:"div",B:"ytp-ce-covering-image",C:WB(p)},{j:"div",B:"ytp-ce-covering-shadow-top"},{j:"a",B:"ytp-ce-covering-overlay",C:{href:yb(z,p.targetUrl),tabindex:"-1"},J:[{j:"div",LH:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],C:{dir:g.wD(p.title||"")},F3:p.title},{j:"div",B:"ytp-ce-playlist-count",
J:[{j:"div",B:"ytp-ce-playlist-icon"},{j:"div",B:"ytp-ce-playlist-count-text",F3:p.playlistLength||void 0}]}]}]};c=new g.Q(z);break;case "CHANNEL":c={j:"div",LH:["ytp-ce-element","ytp-ce-channel",p.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],C:{tabindex:"0","aria-label":p.Kw||"","aria-hidden":"true"},J:[{j:"div",B:"ytp-ce-element-shadow"},{j:"div",B:"ytp-ce-expanding-overlay",J:[{j:"div",B:"ytp-ce-expanding-overlay-hider"},{j:"div",B:"ytp-ce-expanding-overlay-background"},{j:"div",B:"ytp-ce-expanding-overlay-content",
J:[{j:"div",B:"ytp-ce-expanding-overlay-body",J:[{j:"div",B:"ytp-ce-expanding-overlay-body-padding",J:[{j:"a",LH:["ytp-ce-channel-title","ytp-ce-link"],C:{href:yb(z,p.targetUrl),target:"_blank",tabindex:"-1",dir:g.wD(p.title||"")},F3:p.title},p.subscribeButton?{j:"div",B:"ytp-ce-subscribe-container",J:[{j:"div",B:"ytp-ce-channel-subscribe"}]}:"",p.subscribersText?{j:"div",B:"ytp-ce-channel-subscribers-text",F3:p.subscribersText}:"",p.metadata?{j:"div",LH:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],F3:p.metadata}:""]}]}]}]},{j:"div",B:"ytp-ce-expanding-image",C:WB(p)}]};c=new g.Q(c);var B=g.NQ(document,"div","ytp-ce-channel-subscribe",c.element)[0];if(p.subscribeButton&&p.channelId){g.Eo(B,"ytp-ce-subscribe-button");if(z.player.N().K){var H=null;var T=p.sessionData.itct}else H="endscreen",T=null;H=new g.GZ(p.subscribeButton.subscribeText,p.subscribeButton.subscribeCount,p.subscribeButton.unsubscribeText,p.subscribeButton.unsubscribeCount,!!p.subscribeButton.enabled,!!p.subscribeButton.classic,
p.channelId,!!p.subscribeButton.subscribed,H,T,z.player,!1);B.appendChild(H.element);z.S.push(H)}break;case "WEBSITE":z={j:"div",LH:["ytp-ce-element","ytp-ce-website"],C:{tabindex:"0","aria-label":p.Kw||"","aria-hidden":"true"},J:[{j:"div",B:"ytp-ce-element-shadow"},{j:"div",B:"ytp-ce-expanding-overlay",J:[{j:"div",B:"ytp-ce-expanding-overlay-hider"},{j:"div",B:"ytp-ce-expanding-overlay-background"},{j:"div",B:"ytp-ce-expanding-overlay-content",J:[{j:"div",B:"ytp-ce-expanding-overlay-body",J:[{j:"div",
B:"ytp-ce-expanding-overlay-body-padding",J:[{j:"div",B:"ytp-ce-website-title",C:{dir:g.wD(p.title||"")},F3:p.title},{j:"div",B:"ytp-ce-website-metadata",F3:p.metadata},{j:"a",LH:["ytp-ce-website-goto","ytp-ce-link"],C:{href:yb(z,p.targetUrl),target:"_blank",tabindex:"-1"},F3:p.callToAction}]}]}]}]},{j:"div",B:"ytp-ce-expanding-image",C:WB(p)},{j:"div",B:"ytp-ce-expanding-icon",C:SUg(p.iconUrl)}]};c=new g.Q(z);break;case "CREATOR_MERCHANDISE":c="",p.productPrice&&(c={j:"div",B:"ytp-ce-merchandise-price-container",
J:[{j:"div",B:"ytp-ce-merchandise-price",F3:p.productPrice}]},p.additionalFeesText&&c.J.push({j:"div",B:"ytp-ce-merchandise-additional-fees",F3:p.additionalFeesText})),z={j:"div",LH:["ytp-ce-element","ytp-ce-merchandise"],C:{tabindex:"0","aria-label":p.Kw||"","aria-hidden":"true"},J:[{j:"div",B:"ytp-ce-element-shadow"},{j:"div",B:"ytp-ce-expanding-overlay",J:[{j:"div",B:"ytp-ce-expanding-overlay-hider"},{j:"div",B:"ytp-ce-expanding-overlay-background"},{j:"div",B:"ytp-ce-expanding-overlay-content",
J:[{j:"div",B:"ytp-ce-expanding-overlay-body",J:[{j:"div",B:"ytp-ce-expanding-overlay-body-padding",J:[{j:"div",B:"ytp-ce-merchandise-title",C:{dir:g.wD(p.title||"")},F3:p.title},c,{j:"div",B:"ytp-ce-merchandise-metadata",F3:p.metadata},{j:"a",LH:["ytp-ce-merchandise-goto","ytp-ce-link"],C:{href:yb(z,p.targetUrl),target:"_blank",tabindex:"-1"},F3:p.callToAction}]}]}]}]},{j:"div",B:"ytp-ce-expanding-image",C:WB(p)},{j:"div",B:"ytp-ce-merchandise-invideo-cta-container",J:[{j:"div",B:"ytp-ce-merchandise-invideo-cta",
F3:p.callToAction||void 0}]}]},c=new g.Q(z)}p.isPlaceholder&&g.Eo(c.element,"ytp-ce-placeholder");return c},WB=function(z){if(z.V1)var p=z.V1.thumbnails;
return SUg(p?p[p.length-1].url:null)},SUg=function(z){return z?{style:"background-image: url("+z+")"}:{}},R2Q=function(z,p,c){function B(t){t&&(p.listen("blur",function(){t.style.display!="none"&&z.MZ&&t.focus()}),p.Z(t,"focus",T),p.Z(t,"blur",b))}
function H(t){z.G+=t;z.G>0?(g.Eo(p.element,"ytp-ce-force-expand"),Cr(z,c.id,!0)):(g.Jn(p.element,"ytp-ce-force-expand"),g.Jn(p.element,"ytp-ce-element-hover"),Cr(z,c.id,!1))}
function T(){H(1)}
function b(){H(-1)}
p.listen("mouseenter",function(){$iE(z,p,c)});
p.listen("mouseleave",function(){Keg(z,p,c)});
z.player.N().K||p.listen("click",function(){g.Eo(p.element,"ytp-ce-element-hover")});
p.listen("click",function(t){uC1(z,c,t)});
p.listen("keypress",function(t){uC1(z,c,t)});
p.listen("focus",function(){$iE(z,p,c)});
p.listen("blur",function(){Keg(z,p,c)});
p.listen("touchstart",function(){$iE(z,p,c)});
var D=g.fH("ytp-ce-expanding-overlay-hider",p.element);D&&p.Z(D,"touchstart",function(t){t.stopPropagation();g.Jn(p.element,"ytp-ce-element-hover");g.Jn(p.element,"ytp-ce-force-expand")});
p.listen("keydown",function(t){z.MZ=t.keyCode===9&&!t.shiftKey});
B(g.fH("ytp-sb-subscribe",p.element));B(g.fH("ytp-sb-unsubscribe",p.element));p.listen("focus",T);p.listen("blur",b)},uC1=function(z,p,c){if(p.targetUrl&&(!c||c.type!=="keypress"||c.keyCode===13)){for(var B=c.target;B&&!g.xf(B,"ytp-ce-element");){g.xf(B,"subscribe-label")&&aXg(z,p);
if(g.xf(B,"ytp-ce-channel-subscribe"))return;B=B.parentElement||null}if(!B||g.xf(B,"ytp-ce-element-hover")){c.preventDefault();c.stopPropagation();if(B=z.K[p.id])Keg(z,B,p),B.element.blur();if(c.ctrlKey||c.metaKey||p.m_D==="new")aXg(z,p),z.player.sendVideoStatsEngageEvent(17,void 0),z.player.pauseVideo(),c=g.lv(yb(z,p.targetUrl)),c=g.y5(c),g.fJ(c,void 0,p.sessionData);else{var H=g.cX(z.player.N())||z.player.getVideoData().Sd,T=function(){var b=yb(z,p.targetUrl),D=p.sessionData,t=p.watchEndpoint,X=
g.XL(b);H&&X&&(X.v||X.list)?z.player.oH(X.v,D,X.list,!1,void 0,t||void 0):g.N6(b,D)};
aXg(z,p,function(){z.player.sendVideoStatsEngageEvent(17,T)})}}}},yb=function(z,p){z=z.player.N();
if(p){if(p.startsWith("//"))return z.protocol+":"+p;if(p.startsWith("/"))return g.D3(z)+p}else return"";return p},$iE=function(z,p,c){g.xf(p.element,"ytp-ce-element-hover")||(c.type==="VIDEO"||c.type==="PLAYLIST"?g.Eo(p.element,"ytp-ce-element-hover"):z.player.N().K?(new g.B4(function(){g.Eo(p.element,"ytp-ce-element-hover")},200)).start():g.Eo(p.element,"ytp-ce-element-hover"),e$(z,c.lt$),Cr(z,c.id,!0))},Keg=function(z,p,c){g.Jn(p.element,"ytp-ce-element-hover");
g.Jn(p.element,"ytp-ce-force-expand");Cr(z,c.id,!1)},Cr=function(z,p,c){z.D&&(c?z.L.show():z.L.hide());
for(var B=g.m(Object.keys(z.K)),H=B.next();!H.done;H=B.next())H=H.value,H!==p&&g.Yf(z.K[H].element,"ytp-ce-element-shadow-show",c)},e$=function(z,p,c){function B(){T||(H++,H===p.length&&(b.stop(),c&&c()))}
if(!p||p.length===0||Lr(z))c&&c();else{p=Zwv(z,p);var H=0,T=!1,b=new g.B4(function(){T=!0;c&&c()},1E3,z);
b.start();for(z=0;z<p.length;z++)g.s3(p[z],B)}},aXg=function(z,p,c){e$(z,p.clickUrls,c);
(z=g.Wu())&&p.XMD&&g.xj(z,p.visualElement)},Zwv=function(z,p){var c=z.player.getVideoData().clientPlaybackNonce;
z=z.player.getCurrentTime().toFixed(2);c={CPN:c,AD_CPN:c,MT:z};z=[];for(var B=0;B<p.length;B++)z.push(Lel(p[B],c));return z},Lel=function(z,p){return z.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(c){var B=unescape(c);
B=B.substring(1,B.length-1);return p[B]?escape(p[B]):c})},dil=function(z){return typeof z==="string"?z:""},l1=function(z,p,c){for(var B in p)if(p[B]===z)return z;
return c},Wem=function(z,p,c,B){this.value=z;
this.target=p;this.showLinkIcon=c;this.W=B},vB=function(z){return z.value?z.value:null},Ii=function(z){if(!z)return null;
var p=g.lv(dil(z.value));p=g.y5(p);if(!p)return null;var c=l1(z.target,yuJ,"current");if(c==null)z=null;else{var B=z.show_link_icon;z=new Wem(p,c,B==="true"||B==="false"?B==="true":!0,z.pause_on_navigation!=null?z.pause_on_navigation:!0)}return z},CvE=function(z,p,c){this.type=z;
this.trigger=p;this.url=c},vC1=function(z){if(!z)return null;
var p=l1(z.type,e2E),c=l1(z.trigger,lXz);z=z.url;z=Array.isArray(z)&&z.length?z[0]:z;z=Ii(z?z:null);return p?new CvE(p,c,z):null},IXm=function(z,p,c,B,H){this.id=z;
this.type=p;this.style=c;this.data=H;this.action=B||[]},jQv=function(z,p){return g.kL(z.action,p)},FeE=function(z,p){this.context=z;
this.W=p},oCL=function(z){return z.customMessage?j$("div","iv-card-message",z.customMessage):""},FS=function(z,p){z="background-image: url("+z+");";
var c=[];p&&c.push(p);return{j:"div",B:"iv-card-image",C:{style:z},J:c}},nCQ=function(z){if(!z.metaInfo||z.metaInfo.length===0)return"";
var p=[];z=g.m(z.metaInfo);for(var c=z.next();!c.done;c=z.next())p.push(j$("li","",c.value));return{j:"ul",B:"iv-card-meta-info",J:p}},j$=function(z,p,c){p?typeof p==="string"?p={"class":p}:Array.isArray(p)&&(p={"class":p.join(" ")}):p={};
p.dir=g.wD(c);return{j:z,C:p,F3:c}},QQJ=function(z){if(!z.customMessage)return"";
var p=["iv-card-action","iv-card-primary-link"],c={};z.R4&&(p.push("iv-card-action-icon"),c.style="background-image: url("+z.R4+");");c.dir=g.wD(z.customMessage);var B=[{j:"span",F3:z.customMessage}];z.showLinkIcon&&(B.push("\u00a0"),B.push({j:"span",B:"iv-card-link-icon"}));return{j:"div",LH:p,C:c,J:B}},oi=function(z,p,c,B){if(B){p=g.m(p);
for(var H=p.next();!H.done;H=p.next())z.W(H.value,B,c.id,c.sessionData,c.vu.click,5)}},rud=function(z,p){this.merchant=z;
this.price=p},UiQ=function(z){var p;
(p=z)&&!(p=z.length>1?z.charAt(0)==="/"&&z.charAt(1)!=="/":z==="/")&&(p=z.replace(/^(https?:)?\/\//,"").split("/",1),p=!p||p.length<1||!p[0]?[]:p[0].toLowerCase().split(".").reverse(),p=p[0]==="com"&&p[1]==="youtube"||p[0]==="be"&&p[1]==="youtu");return p?z.indexOf("/redirect?")===-1:!1},sQK=function(z,p){return p?p:UiQ(z)?"current":"new"},nr=function(z,p){g.e.call(this);
var c=this;this.element=z;this.context=p;this.sH=!1;this.OH=new Map;this.NZ=new Map;this.context.T.addEventListener(g.E5("annotations_module"),function(B){(B=c.OH.get(B))&&B.apply(c)});
this.context.T.addEventListener(g.qT("annotations_module"),function(B){(B=c.NZ.get(B))&&B.apply(c)})},Qb=function(z,p,c,B,H,T,b){z.context.W.listen(p,"click",function(D){z.K_(c,B,H,T||[],b||0,D)});
z.context.W.listen(p,"touchstart",function(){z.sH=!1});
z.context.W.listen(p,"touchmove",function(){z.sH=!0})},ksd=function(z){var p;
return((p=g.I(z,g.Qj))==null?0:p.url)?g.I(z,g.Qj).url:(z=g.I(z,g.ir))&&z.videoId?(p="/watch?v="+z.videoId,z.playlistId&&(p+="&list="+z.playlistId),z.index&&(p+="&index="+z.index),z.startTimeSeconds&&(p+="&t="+z.startTimeSeconds),p):null},ri=function(z,p,c){return{KR:(z.impressionLoggingUrlsV2s||[]).map(function(B){return B.baseUrl||""}),
click:(c.loggingUrls||[]).map(function(B){return B.baseUrl||""}),
close:(p.dismissLoggingUrlsV2s||[]).map(function(B){return B.baseUrl||""}),
F$:(p.impressionLoggingUrlsV2s||[]).map(function(B){return B.baseUrl||""}),
Lh:(p.clickLoggingUrlsV2s||[]).map(function(B){return B.baseUrl||""})}},gCJ=function(z,p,c){nr.call(this,p,c);
var B=this;this.T=z;this.eventId=null;this.RR=this.fH=this.FQ=this.D=this.isInitialized=!1;this.cards=[];this.UH=this.S=this.YA=this.L=this.i8=this.W=null;this.MZ=[];this.Dt=this.G=this.Ki=this.Ra=null;this.V=0;this.T$=new g.B4(function(){},c.Wq.Rz?4E3:3E3);
g.l(this,this.T$);this.CH=new g.B4(function(){});
g.l(this,this.CH);this.tD=new FeE(c,function(H,T,b,D,t,X){Qb(B,H,T,b,D,t,X)});
this.U=new g.Q({j:"div",B:"iv-drawer",C:{id:"iv-drawer"},J:[{j:"div",B:"iv-drawer-header",C:{"aria-role":"heading"},J:[{j:"span",B:"iv-drawer-header-text"},{j:"button",LH:["iv-drawer-close-button","ytp-button"],C:{"aria-label":"Hide cards",tabindex:"0"}}]},{j:"div",B:"iv-drawer-content"}]});g.l(this,this.U);this.X=this.U.element;this.Zt=new g.Da(this.U,330);g.l(this,this.Zt);this.WM=g.fH("iv-drawer-header-text",this.X);this.K=g.fH("iv-drawer-content",this.X);this.addCueRange(0,c.videoData.lengthSeconds*
1E3,"",function(){B.FQ&&Uz(B,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(B.FQ=B.D)&&sz(B)});
this.rA=new g.or(this);g.l(this,this.rA);this.T.addEventListener("videodatachange",this.le.bind(this))},Gsl=function(z,p){p=p.data;
p.autoOpenMs&&z.addCueRange(p.autoOpenMs,0x8000000000000,"",function(){Uz(z,"YOUTUBE_DRAWER_AUTO_OPEN")});
p.autoCloseMs&&z.addCueRange(p.autoCloseMs,0x8000000000000,"",function(){sz(z)});
var c=p.headerText;g.xr(z.WM,c);z.S&&z.S.setAttribute("title",c);p.eventId&&(z.eventId=p.eventId);z.Ra=g.ZU(p.trackingParams);z.G=g.ZU(p.closeTrackingParams);z.Ki=g.ZU(p.iconTrackingParams)},Nhm=function(z,p){var c=p.cardId?p.cardId:"cr:"+z.V,B=z.T.N().experiments.JD("enable_error_corrections_infocard_web_client");
if(!p.content&&p.teaser.simpleCardTeaserRenderer&&B){var H=p.teaser.simpleCardTeaserRenderer,T=p.icon?p.icon.infoCardIconRenderer:null;p={id:c,timestamp:z.V,type:"simple",teaserText:g.wJ(H.message),teaserDurationMs:Number(p.cueRanges[0].teaserDurationMs),startMs:Number(p.cueRanges[0].startCardActiveMs),autoOpen:!!p.autoOpen,sessionData:{},sponsored:!1,vu:{},R_:null,DF:H.trackingParams?g.ZU(H.trackingParams):null,Ki:T&&T.trackingParams?g.ZU(T.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
R4:null,title:"",customMessage:"",url:null,onClickCommand:H.onTapCommand||null};ke(z,p)}else{var b;if((b=p.content)==null?0:b.simpleCardContentRenderer){if(!p.cueRanges.length)return;T=(H=p.content)==null?void 0:H.simpleCardContentRenderer;H=p.teaser.simpleCardTeaserRenderer;var D=p.icon?p.icon.infoCardIconRenderer:null;p={id:c,timestamp:z.V,type:"simple",teaserText:g.wJ(H.message),teaserDurationMs:Number(p.cueRanges[0].teaserDurationMs),startMs:Number(p.cueRanges[0].startCardActiveMs),autoOpen:!!p.autoOpen,
sessionData:gi(z,c,p,T),sponsored:!1,vu:ri(T,H,T.command),R_:T.trackingParams?g.ZU(T.trackingParams):null,DF:H.trackingParams?g.ZU(H.trackingParams):null,Ki:D&&D.trackingParams?g.ZU(D.trackingParams):null,imageUrl:GJ(T.image.thumbnails,290).url,displayDomain:T.displayDomain?g.wJ(T.displayDomain):null,showLinkIcon:!!T.showLinkIcon,R4:null,title:T.title?g.wJ(T.title):"",customMessage:T.callToAction?g.wJ(T.callToAction):"",url:g.I(T.command,g.Qj).url?Ii({pause_on_navigation:!z.context.videoData.isLivePlayback,
target:"new",value:g.I(T.command,g.Qj).url}):null,onClickCommand:null};ke(z,p)}else{var t;if((t=p.content)==null?0:t.collaboratorInfoCardContentRenderer){if(!p.cueRanges.length)return;H=(T=p.content)==null?void 0:T.collaboratorInfoCardContentRenderer;T=p.teaser.simpleCardTeaserRenderer;D=p.icon?p.icon.infoCardIconRenderer:null;p={id:c,timestamp:z.V,type:"collaborator",teaserText:g.wJ(T.message),teaserDurationMs:Number(p.cueRanges[0].teaserDurationMs),startMs:Number(p.cueRanges[0].startCardActiveMs),
autoOpen:!!p.autoOpen,sessionData:gi(z,c,p,H),sponsored:!1,vu:ri(H,T,H.endpoint),R_:H.trackingParams?g.ZU(H.trackingParams):null,DF:T.trackingParams?g.ZU(T.trackingParams):null,Ki:D&&D.trackingParams?g.ZU(D.trackingParams):null,channelId:g.I(H.endpoint,g.dG).browseId,customMessage:H.customText?g.wJ(H.customText):null,profileImageUrl:GJ(H.channelAvatar.thumbnails,290).url,title:H.channelName?g.wJ(H.channelName):"",metaInfo:[H.subscriberCountText?g.wJ(H.subscriberCountText):""],url:Ii({pause_on_navigation:!z.context.videoData.isLivePlayback,
target:"new",value:g.I(H.endpoint,g.dG).canonicalBaseUrl?g.I(H.endpoint,g.dG).canonicalBaseUrl:"/channel/"+g.I(H.endpoint,g.dG).browseId}),onClickCommand:null};ke(z,p)}else{var X;if((X=p.content)==null?0:X.playlistInfoCardContentRenderer){if(!p.cueRanges.length)return;H=(D=p.content)==null?void 0:D.playlistInfoCardContentRenderer;T=p.teaser.simpleCardTeaserRenderer;D=p.icon?p.icon.infoCardIconRenderer:null;p={id:c,timestamp:z.V,type:"playlist",teaserText:g.wJ(T.message),teaserDurationMs:Number(p.cueRanges[0].teaserDurationMs),
startMs:Number(p.cueRanges[0].startCardActiveMs),autoOpen:!!p.autoOpen,sessionData:gi(z,c,p,H),sponsored:!1,vu:ri(H,T,H.action),R_:H.trackingParams?g.ZU(H.trackingParams):null,DF:T.trackingParams?g.ZU(T.trackingParams):null,Ki:D&&D.trackingParams?g.ZU(D.trackingParams):null,T6:GJ(H.playlistThumbnail.thumbnails,258).url,customMessage:H.customMessage?g.wJ(H.customMessage):null,playlistVideoCount:g.wJ(H.playlistVideoCount),title:H.playlistTitle?g.wJ(H.playlistTitle):"",metaInfo:[H.channelName?g.wJ(H.channelName):
"",H.videoCountText?g.wJ(H.videoCountText):""],url:Ii({pause_on_navigation:!z.context.videoData.isLivePlayback,target:"new",value:ksd(H.action)}),onClickCommand:null};ke(z,p)}else{var x;if((x=p.content)==null?0:x.videoInfoCardContentRenderer){if(!p.cueRanges.length)return;var E;H=(E=p.content)==null?void 0:E.videoInfoCardContentRenderer;T=p.teaser.simpleCardTeaserRenderer;D=p.icon?p.icon.infoCardIconRenderer:null;p={id:c,timestamp:z.V,type:"video",teaserText:g.wJ(T.message),teaserDurationMs:Number(p.cueRanges[0].teaserDurationMs),
startMs:Number(p.cueRanges[0].startCardActiveMs),autoOpen:!!p.autoOpen,sessionData:gi(z,c,p,H),sponsored:!1,vu:ri(H,T,H.action),R_:H.trackingParams?g.ZU(H.trackingParams):null,DF:T.trackingParams?g.ZU(T.trackingParams):null,Ki:D&&D.trackingParams?g.ZU(D.trackingParams):null,T6:GJ(H.videoThumbnail.thumbnails,258).url,videoDuration:H.lengthString?g.wJ(H.lengthString):null,customMessage:H.customMessage?g.wJ(H.customMessage):null,title:H.videoTitle?g.wJ(H.videoTitle):"",metaInfo:[H.channelName?g.wJ(H.channelName):
"",H.viewCountText?g.wJ(H.viewCountText):""],isLiveNow:!!H.badge,url:Ii({pause_on_navigation:!z.context.videoData.isLivePlayback,target:"new",value:ksd(H.action)}),onClickCommand:null};ke(z,p)}}}}}z.V++},GJ=function(z,p){for(var c=-1,B=-1,H=0;H<z.length;H++){if(z[H].height===p||z[H].width===290)return z[H];
((z[H].height||0)<p||(z[H].width||0)<290)&&(c<0||(z[c].height||0)<(z[H].height||0)||(z[c].width||0)<(z[H].width||0))?c=H:((z[H].height||0)>=p||(z[H].width||0)>=290)&&(B<0||(z[B].height||0)>(z[H].height||0)||(z[B].width||0)>(z[H].width||0))&&(B=H)}return z[B>=0?B:c]},gi=function(z,p,c,B){return{feature:c.feature?c.feature:"cards",
src_vid:z.context.videoData.videoId,annotation_id:p,ei:z.context.videoData.eventId||"",itct:B.trackingParams||""}},zfJ=function(z,p){if(p=fXL(z,p))p===z.W&&(z.W=null),z.T.removeCueRange(p.bA.id),g.t3(p.v$),g.f9(z.cards,p),z.gr(),N1(z)},Uz=function(z,p,c){if(!z.D){z.Zt.show();
z.i8=new g.B4(function(){g.Eo(z.context.T.getRootNode(),g.Ga.IV_DRAWER_OPEN)},0);
z.i8.start();z.rA.Z(z.K,"mousewheel",function(b){z.T$.start();b.preventDefault();b=b||window.event;var D=0;b.type=="MozMousePixelScroll"?D=0==(b.axis==b.HORIZONTAL_AXIS)?b.detail:0:window.opera?D=b.detail:D=b.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?b.wheelDeltaY/-30:b.wheelDeltaY/-1.2:b.wheelDelta/-1.6:b.wheelDeltaY/-3;if(b=D)z.K.scrollTop+=b});
z.D=!0;var B=g.Wu();B&&z.Ra&&z.G&&g.tQ(B,[z.Ra,z.G]);p={TRIGGER_TYPE:p};for(var H=g.m(z.cards),T=H.next();!T.done;T=H.next())T=T.value,T.aV||(T.aV=!0,pjq(z.context.logger,T.bA.vu.KR,p)),B&&g.tQ(B,[T.bA.R_]);Oz(z.T);c&&(z.L=new g.B4(function(){z.YA=z.S;z.UH.focus()},330),z.L.start())}},sz=function(z){z.D&&(z.Zt.hide(),g.CG(z.rA),g.Jn(z.context.T.getRootNode(),g.Ga.IV_DRAWER_OPEN),z.D=!1,Oz(z.T),z.L&&z.L.stop(),z.L=new g.B4(function(){z.YA&&(z.YA.focus(),z.YA=null)},330),z.L.start())},coq=function(z){g.q5(z.XQ(),
[g.Ga.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.F7(z.T,z.X,5);z.VD();z.S=g.fH("ytp-cards-button",z.T.getRootNode());z.UH=g.fH("iv-drawer-close-button",z.X);z.isInitialized=!0},BCm=function(z){z.MZ.push(g.xg("iv-teaser-shown",z.MA,z));
z.MZ.push(g.xg("iv-teaser-hidden",z.BtZ,z));z.MZ.push(g.xg("iv-teaser-clicked",z.aA,z));z.RR=!0},HHv=function(z,p){var c;
return p.onClickCommand&&((c=g.I(p.onClickCommand,g.Z$J))==null?void 0:c.targetId)==="engagement-panel-error-corrections"?(z.Dt=p,!0):!1},iHJ=function(z,p){z.Dt=p;
var c=z.T.getVideoData();if(!c)return!1;c=g.de(c);if(c==null?0:c.markersMap)for(var B,H=0;((B=c)==null?void 0:B.markersMap.length)>H;H++){var T=void 0,b=(T=c)==null?void 0:T.markersMap[H];if(b.key==="ERROR_CORRECTION_MARKERS"&&(T=void 0,(b=(T=b.value)==null?void 0:T.markers)&&b.length>0))return B=void 0,p.startMs=((B=g.I(b[0],g.qzY))==null?void 0:B.timeRangeStartMillis)||0,z.Dt=null,!0}return!1},ke=function(z,p){if(!HHv(z,p)||iHJ(z,p)){var c=TCz(z,p);
if(c){var B={bA:p,v$:c.element,aV:!1};if(p.onClickCommand)z.T.Y("web_infocards_teaser_show_logging_fix")&&(z.RR||BCm(z),zfJ(z,p.id),c=z.findLastIndex(B),g.To(z.cards,c,0,B));else{z.isInitialized||coq(z);zfJ(z,p.id);var H=z.findLastIndex(B);g.To(z.cards,H,0,B);c.Ia(z.K,H);z.gr()}p.autoOpen?z.addCueRange(p.startMs,0x8000000000000,p.id,function(){z.D||(z.W=B,N1(z),bHJ(z,B),Uz(z,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(c=z.context.T.getCurrentTime()*1E3,c<5E3&&c>p.startMs&&Vhl(z,B),z.addCueRange(p.startMs,
p.startMs+1,p.id,function(){Vhl(z,B)}),N1(z))}}},TCz=function(z,p){switch(p.type){case "simple":z=z.tD;
var c=p.displayDomain?{j:"div",B:"iv-card-image-text",F3:p.displayDomain}:void 0;var B=QQJ(p);c={j:"div",LH:["iv-card"],J:[{j:"a",B:"iv-click-target",C:{href:p.url?vB(p.url)||"":""},J:[FS(p.imageUrl,c),{j:"div",B:"iv-card-content",J:[j$("h2",void 0,p.title),B]}]}]};c=new g.Q(c);oi(z,g.Gk("iv-click-target",c.element),p,p.url);p=c;break;case "collaborator":z=z.tD;c={j:"div",LH:["iv-card","iv-card-channel"],J:[{j:"a",LH:["iv-click-target"],C:{href:vB(p.url)||"","data-ytid":p.channelId},J:[FS(p.profileImageUrl),
{j:"div",B:"iv-card-content",J:[oCL(p),{j:"h2",B:"iv-card-primary-link",F3:p.title},nCQ(p)]}]}]};c=new g.Q(c);oi(z,g.Gk("iv-click-target",c.element),p,p.url);p=c;break;case "playlist":z=z.tD;c={j:"div",LH:["iv-card","iv-card-playlist"],J:[{j:"a",B:"iv-click-target",C:{href:vB(p.url)||""},J:[FS(p.T6,{j:"div",B:"iv-card-image-overlay",J:[{j:"span",B:"iv-card-playlist-video-count",F3:p.playlistVideoCount}]}),{j:"div",B:"iv-card-content",J:[oCL(p),j$("h2","iv-card-primary-link",p.title),nCQ(p)]}]}]};
c=new g.Q(c);oi(z,g.Gk("iv-click-target",c.element),p,p.url);p=c;break;case "productListing":z=z.tD;var H=p.offers.length!=0;c=["iv-card"];B="";var T=QQJ(p);H&&(c.push("iv-card-product-listing"),B="iv-card-primary-link",T=p.offers[0],H=[],T.price&&H.push({j:"div",B:"iv-card-offer-price",F3:T.price}),T.merchant&&H.push({j:"div",B:"iv-card-offer-merchant",F3:T.merchant}),T={j:"div",J:H});H=p.url?vB(p.url)||"":"";c={j:"div",LH:c,C:{tabindex:"0"},J:[{j:"a",LH:["iv-card-image","iv-click-target"],C:{style:"background-image: url("+
p.imageUrl+");",href:H,"aria-hidden":"true",tabindex:"-1"}},{j:"div",B:"iv-card-content",J:[p.sponsored?{j:"div",B:"iv-card-sponsored",J:["Sponsored",{j:"div",B:"iv-ad-info-container",J:[{j:"div",B:"iv-ad-info",F3:"{{adInfo}}"},{j:"div",B:"iv-ad-info-icon-container",J:[{j:"div",B:"iv-ad-info-icon"},{j:"div",B:"iv-ad-info-callout"}]}]}]}:"",{j:"a",B:"iv-click-target",C:{href:H},J:[j$("h2",B,p.title),T]}]}]};c=new g.Q(c);B=g.i4("span");g.xr(B,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
c.cU(B,"adInfo");oi(z,g.Gk("iv-click-target",c.element),p,p.url);p=c;break;case "video":z=z.tD;B=p.videoDuration?{j:"span",B:"iv-card-video-duration",F3:p.videoDuration}:void 0;T=p.isLiveNow?{j:"span",LH:["yt-badge","yt-badge-live"],F3:"LIVE NOW"}:null;H={j:"div",LH:["iv-card","iv-card-video"],J:[{j:"a",B:"iv-click-target",C:{href:((c=p.url)==null?void 0:vB(c))||""},J:[FS(p.T6,B),{j:"div",B:"iv-card-content",J:[oCL(p),j$("h2","iv-card-primary-link",p.title),nCQ(p),T]}]}]};c=new g.Q(H);oi(z,g.Gk("iv-click-target",
c.element),p,p.url);p=c;break;default:return null}return p},DQK=function(z){if(z.W)return z.W.bA.type==="productListing";
if(z.T.Y("enable_wn_infocards")){var p;return!((p=z.cards)==null||!p.length)&&g.WR(z.cards,function(c){return c.bA.type==="productListing"})}return g.WR(z.cards,function(c){return c.bA.type==="productListing"})},N1=function(z){g.Yf(z.T.getRootNode(),"ytp-cards-shopping-active",DQK(z))},Vhl=function(z,p){if(!g.xf(z.T.getRootNode(),"ytp-cards-teaser-shown")){if(z.W!==p){var c=g.Wu(),B=z.W?z.W.bA.Ki:z.Ki;
c&&B&&g.X9(c,[B]);z.W=p;N1(z)}(c=z.isInitialized&&z.XQ().style.display=="none")||(c=z.context.T.getPlayerState(),B=c===0&&z.context.T.getCurrentTime()===0,c=!(c===1||c===3||B));c||p.bA.teaserDurationMs&&z.T.Uj(!0,{teaserText:p.bA.teaserText,durationMs:p.bA.teaserDurationMs,onClickCommand:p.bA.onClickCommand});z.CH.isActive()||((!z.D||!z.T$.isActive()&&z.fH)&&bHJ(z,p),z.CH.start(910+p.bA.teaserDurationMs))}},bHJ=function(z,p){z.U.EH?(p=new Kr([0,
z.K.scrollTop],[0,p.v$.offsetTop],600,JuE),z.context.D.listen(p,"animate",function(c){z.K.scrollTop=c.y}),z.context.D.listen(p,"finish",function(c){z.K.scrollTop=c.y}),p.play()):(z.U.DP(!0),z.K.scrollTop=p.v$.offsetTop,z.U.DP(!1))},fr=function(z){return z.W&&z.W.bA?z.W.bA:z.cards[0]&&z.cards[0].bA?z.cards[0].bA:null},fXL=function(z,p){return g.kL(z.cards,function(c){return c.bA.id===p})},z2=function(z,p,c){nr.call(this,z,p);
this.annotation=c;this.isActive=!1},thK=function(z){var p=z.annotation.data;
"start_ms"in p&&"end_ms"in p&&z.addCueRange(Number(p.start_ms),Number(p.end_ms),z.annotation.id,function(){z.show()},function(){z.hide()})},p3=function(z,p,c){z2.call(this,z,p,c);
this.K=null;this.G=!1;this.D=null;this.X=!1;this.W=this.V=this.L=null},XjE=function(z,p){var c=c===void 0?0:c;
var B=ThJ(p).width;g.Rj(p,B);c=new ECE(p,[B,p.offsetTop],[B-B-c,p.offsetTop],200,qUE);g.l(z,c);z.context.D.listen(c,"begin",function(){g.yM(p,!0)});
c.play()},q2g=function(z,p){if(p.channel_name){var c=z.createElement({j:"div",
LH:["iv-branding-context-name"],F3:p.channel_name}),B=z.createElement({j:"div",LH:["iv-branding-context-subscribe"]}),H=p.standalone_subscribe_button_data;H&&(z.W=new g.GZ(H.subscribeText,H.subscribeCount,H.unsubscribeText,H.unsubscribeCount,!!H.enabled,!!H.classic,p.channel_id,!!H.subscribed,H.feature,p.session_data.itct,z.context.T,!1),z.W.Ia(B));var T=z.createElement({j:"div",LH:["iv-branding-context-subscribe-caret"]}),b=z.createElement({j:"div",LH:["branding-context-container-inner"]});b.appendChild(T);
b.appendChild(c);b.appendChild(B);g.yM(b,!1);var D=z.createElement({j:"div",LH:["branding-context-container-outer"]});D.appendChild(b);g.mm(D,"right",p.image_width+"px");g.b4(z.XQ(),D);z.D=new g.B4(function(){xQQ(z,b,D)},500);
g.l(z,z.D);z.context.W.listen(z.XQ(),"mouseover",function(){E03(z,b,D,T,p.image_height)});
z.context.W.listen(z.XQ(),"mouseout",function(){z.D.start()})}},E03=function(z,p,c,B,H){z.D.stop();
if(!z.X){var T=g.Wx(p);z.W||(p.style.width=g.wY(T.width,!0),c.style.width=g.wY(T.width,!0));g.mm(B,"top",T.height-Math.max(Math.min(T.height,H)/2+10,20)+"px");g.mm(B,"right","1px");z.X=!0;g.yM(p,!0);z.L=new g.B4(function(){g.Eo(this.XQ(),"iv-branding-active")},0,z);
z.L.start()}},xQQ=function(z,p,c){g.Jn(z.XQ(),"iv-branding-active");
z.V=new g.B4(function(){g.yM(p,!1);z.W||(c.style.width=g.wY(0,!0))},250);
z.V.start();z.X=!1},Jom=function(z,p,c,B,H,T,b){this.W=z;
this.D=p;this.Wq=c;this.videoData=B;this.logger=H;this.T=T;this.K=b},Mhg=function(z,p,c){z2.call(this,z,p,c);
var B=this;this.S=this.isCollapsed=this.U=!1;this.V=5E3;this.K=this.D=this.W=this.X=null;this.G=this.createElement({j:"div",LH:["iv-promo-contents"]});this.L=new g.B4(function(){B.W.setAttribute("aria-hidden","true");g.yM(B.D,!1);g.yM(B.K,!0)},700,this);
g.l(this,this.L)},mQ1=function(z){var p=z.annotation.data;
if(z.annotation.style==="cta")var c=6;else if(z.annotation.style==="video"||z.annotation.style==="playlist")c=7;z.V=p.collapsedelay_ms||z.V;var B=["iv-promo","iv-promo-inactive"];z.XQ().setAttribute("aria-hidden","true");z.XQ().setAttribute("aria-label","Promotion");z.XQ().tabIndex=0;var H=z.annotation.BU(),T=p.image_url;if(T){var b=z.createElement({j:"div",LH:["iv-promo-img","iv-click-target"]});T=z.createElement({j:"img",C:{src:T,"aria-hidden":"true"}});b.appendChild(T);p.video_duration&&!p.is_live?
(T=z.createElement({j:"span",B:"iv-promo-video-duration",F3:p.video_duration}),b.appendChild(T)):p.playlist_length&&(T=z.createElement({j:"span",B:"iv-promo-playlist-length",F3:p.playlist_length.toString()}),b.appendChild(T));H&&Qb(z,b,H,z.annotation.id,p.session_data,void 0,c)}H?(T=z.createElement({j:"a",B:"iv-promo-txt"}),g.IQ(T,vB(H)),z.W=T):z.W=z.createElement({j:"div",B:"iv-promo-txt"});switch(z.annotation.style){case "cta":case "website":var D=z.createElement({j:"p",J:[{j:"strong",F3:p.text_line_1}]});
var t=z.createElement({j:"p",J:[{j:"span",B:"iv-promo-link",F3:p.text_line_2}]});if(T=p.text_line_3){B.push("iv-promo-website-card-cta-redesign");var X=z.createElement({j:"button",LH:["iv-promo-round-expand-icon","ytp-button"]});T=z.createElement({j:"button",LH:["iv-button","iv-promo-button"],J:[{j:"span",B:"iv-button-content",F3:T}]});var x=z.createElement({j:"div",B:"iv-promo-button-container"});x.appendChild(T);H&&Qb(z,z.XQ(),H,z.annotation.id,p.session_data,void 0,c)}g.Eo(z.W,"iv-click-target");
H&&Qb(z,z.W,H,z.annotation.id,p.session_data,void 0,c);break;case "playlist":case "video":D=z.createElement({j:"p",J:[{j:"span",F3:p.text_line_1}]}),t=z.createElement({j:"p",J:[{j:"strong",F3:p.text_line_2}]}),p.is_live&&(D=t,t=z.createElement({j:"span",LH:["yt-badge","iv-promo-badge-live"],F3:"LIVE NOW"})),g.Eo(z.W,"iv-click-target"),H&&Qb(z,z.W,H,z.annotation.id,p.session_data,void 0,c),B.push("iv-promo-video")}D&&z.W.appendChild(D);t&&z.W.appendChild(t);z.G.appendChild(z.W);x&&z.G.appendChild(x);
c=z.createElement({j:"div",B:"iv-promo-actions"});z.K=z.createElement({j:"button",LH:["iv-promo-expand","ytp-button"]});z.K.title="Expand";z.context.W.listen(z.K,"click",function(E){Y21(z,5E3,E)});
c.appendChild(z.K);g.yM(z.K,!1);z.context.W.listen(z.XQ(),"mouseover",z.xZI,z);z.context.W.listen(z.XQ(),"mouseout",z.rDq,z);z.context.W.listen(z.XQ(),"touchend",function(E){Y21(z,5E3,E)});
z.D=z.createElement({j:"button",LH:["iv-promo-close","ytp-button"]});z.D.title="Close";z.context.W.listen(z.D,"click",z.annotation.style==="cta"&&p.text_line_3?z.qHt:z.ftq,z);c.appendChild(z.D);g.q5(z.XQ(),B);b&&(g.b4(z.XQ(),b),X&&b.appendChild(X));g.b4(z.XQ(),z.G);g.b4(z.XQ(),c)},Y21=function(z,p,c){c.stopPropagation();
hfg(z);PUJ(z,p);z.W.focus()},Ao9=function(z){z.isCollapsed||z.S||z.X||(g.Eo(z.XQ(),"iv-promo-collapsed"),z.isCollapsed=!0,z.L.start())},hfg=function(z){z.L.stop();
z.isCollapsed&&(g.M5(z.XQ(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),z.isCollapsed=!1,z.W&&z.W.removeAttribute("aria-hidden"),g.yM(z.K,!1),g.yM(z.D,!0))},PUJ=function(z,p){z.X||(z.X=g.d6(function(){OHQ(this);
Ao9(this)},p,z))},OHQ=function(z){z.X&&(g.jQ.clearTimeout(z.X),z.X=null)},wjK=function(z){this.T=z},pjq=function(z,p,c){p&&(c?cP(z,p.map(function(B){return g.l8(B,c)})):cP(z,p))},cP=function(z,p,c,B){var H=1,T=void 0,b=-1;
if(c){var D=!1;T=function(){H--;H||D||(clearTimeout(b),D=!0,c())};
b=setTimeout(function(){D=!0;c()},1E3)}p=g.m(p||[]);
for(var t=p.next();!t.done;t=p.next())t=t.value,H++,g.s3(t,T);B&&(H++,B!==0&&z.T.sendVideoStatsEngageEvent(B,T))},Rfg=function(z){g.Ms.call(this,z);
var p=this;this.MZ=this.S=!1;this.loadNumber=0;this.V={};this.logger=new wjK(this.player);this.X=new g.or(this);this.L=this.G=null;this.events=new g.or(this);this.rk=this.U=this.W=null;this.Dt=[];g.l(this,this.X);this.X.Z(this.player,"onVideoAreaChange",function(){p.publish("onVideoAreaChange")});
this.X.Z(this.player,"onHideControls",function(){p.publish("onHideControls")});
this.X.Z(this.player,"onShowControls",function(){p.publish("onShowControls")});
this.X.Z(this.player,"resize",function(B){p.publish("resize",B)});
this.X.Z(this.player,"presentingplayerstatechange",function(B){p.publish("presentingplayerstatechange",B)});
this.subscribe("presentingplayerstatechange",this.eE,this);this.subscribe("resize",this.wY,this);this.player.N().YA.subscribe("vast_info_card_add",this.Ri,this);g.l(this,this.events);this.tD=this.createElement({j:"div",B:"video-custom-annotations"});this.K=new g.Q({j:"div",LH:["ytp-player-content","ytp-iv-player-content"]});g.l(this,this.K);g.F7(this.player,this.K.element,4);this.K.hide();this.D=new g.Q({j:"div",LH:["ytp-iv-video-content"]});g.l(this,this.D);z=this.createElement({j:"div",B:"video-annotations"});
z.appendChild(this.tD);this.D.element.appendChild(z);this.O$()&&this.load();var c=this.createElement({j:"style"});(g.gC("HEAD")[0]||document.body).appendChild(c);this.addOnDisposeCallback(function(){g.t3(c)});
if(z=c.sheet)z.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),z.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),z.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),z.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),z.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),z.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),z.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),z.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),z.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),z.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},S2v=function(z){z=z.createElement({j:"div",
LH:["annotation","annotation-type-custom"]});g.yM(z,!1);return z},$QE=function(z,p){p=!p.isCued()&&!g.r(p,1024);
z.K.DP(p);z.D.DP(p)},KH1=function(z,p,c){z.S=!0;
z.L=g.dS(p,c)},ual=function(z,p){for(var c={},B=g.m(p.attributes),H=B.next();!H.done;H=B.next())H=H.value,c[H.name]=H.nodeValue;
for(B=0;B<p.childNodes.length;B++)if(H=p.childNodes[B],g.kB(H)&&H.nodeType==1){if(c[H.tagName])var T=c[H.tagName];else if(H.tagName==="data"){H.childNodes.length>0&&(T=H.childNodes[0].nodeValue,c[H.tagName]=typeof T==="string"?T.trim():T);continue}else T=[],c[H.tagName]=T;H&&H.tagName==="TEXT"?H.childNodes.length===1&&H.childNodes[0].nodeType===3?T.push(H.childNodes[0].nodeValue):T.push(""):H&&T.push(ual(z,H))}return c},dQq=function(z){var p=z.player.getVideoData();
if(p.Zt){var c=z.player.N().YA.get(p.videoId);if(c){var B={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(H,T,b){H=z.loadNumber;T=p.videoId;z.loaded&&z.loadNumber===H&&z.player.getVideoData().videoId===T&&(b=g.A6(b)&&b.responseXML?b.responseXML:null)&&a$d(z,b)}};
g.V2()&&(B.onFinish=ZHv(z,B.onFinish));B.postParams={ic_only:"1"};LHz(B,c);z.S=!0;g.dS(p.Zt,B)}}},LHz=function(z,p){z.method="POST";
z.postParams=z.postParams||{};p.Pm&&(z.postParams.ic_coll=p.Pm);p.L7&&(z.postParams.ic_xml=p.L7);p.rj&&(z.postParams.ic_track=p.rj)},WH1=function(z){var p=new g.Q({j:"div"});
g.yM(p.element,!1);var c=new gCJ(z.player,p.element,BP(z));g.l(c,p);p.Ia(z.K.element);c.Uy();return c},CUL=function(z,p){var c,B;
if(p=(c=p.getWatchNextResponse())==null?void 0:(B=c.cards)==null?void 0:B.cardCollectionRenderer)z.MZ=!0,yo9(z,p),p.headerText&&z.rk&&(c=g.wJ(p.headerText),z.rk.setAttribute("title",c))},BP=function(z){if(!z.U){var p=new Mfd(z);
g.l(z,p);var c=new g.ZY(z);g.l(z,c);z.U=new Jom(p,c,z.player.N(),z.player.getVideoData(),z.logger,z.player,z.EB)}return z.U},a$d=function(z,p){var c=!1,B=p.getElementsByTagName("annotations");
if(B&&!(B.length<1)&&(B=B[0].getAttribute("itct"))){var H=g.Wu();if(H){var T=g.dH();T&&g.iO(g.zr)(void 0,H,T,[g.ZU(B)])}}p=p.getElementsByTagName("annotation");for(B=0;B<p.length;B++){T=ual(z,p[B]);H=null;try{if(T){var b=T.id,D=/.+/;var t=typeof b==="string"&&D!=null&&b!=null&&b.match(D)?b:"";var X=l1(T.type,efJ),x=l1(T.style,l$l),E=dil(T.data),q=E.length!==0?JSON.parse(E):{};var J=T.action;T=vC1;if(J==null)var M=null;else if(g.sx(J)){D=[];for(var P=g.m(J),O=P.next();!O.done;O=P.next()){var R=T(O.value);
R&&D.push(R)}M=D}else{var K=T(J);M=K?[K]:[]}H=t&&X?new IXm(t,X,x,M,q):null}else H=null}catch(HD){}if(H)if(H.type==="branding"||H.type==="promotion"){T=z;D=H;var Z=S2v(T),W=null;switch(D.type){case "branding":if(T.player.N().JH)break;T.K.element.appendChild(Z);W=new p3(Z,BP(T),D);break;case "promotion":g.F7(T.player,Z,4),W=new Mhg(Z,BP(T),D)}W&&W.Uy();if(T=W)g.l(z,T),z.V[H.id]=T}else if(H.type==="card"||H.type==="drawer"){z.W||(z.W=WH1(z),g.l(z,z.W));if(H.type==="card"){Z=z.W;var v=(c=H)&&c.data&&
c.data.card_type;H=c.data;if(v)switch(T=H.tracking||{},T={KR:T.impression,click:T.click,close:T.close,F$:T.teaser_impression,Lh:T.teaser_click},D=H.tracking_params||{},W=null,v){case "collaborator":c={id:c.id,timestamp:H.timestamp||0,type:H.card_type,teaserText:H.teaser_text,teaserDurationMs:H.teaser_duration_ms,startMs:H.start_ms,autoOpen:H.auto_open||!1,sessionData:H.session_data||{},sponsored:H.sponsored||!1,vu:T,R_:D.card?g.ZU(D.card):null,DF:D.teaser?g.ZU(D.teaser):null,Ki:D.icon?g.ZU(D.icon):
null,channelId:H.channel_id,customMessage:H.custom_message?H.custom_message:null,profileImageUrl:H.image_url,title:H.title,metaInfo:H.meta_info,url:Ii({pause_on_navigation:H.pause_on_navigation,target:H.target||"new",value:H.url}),onClickCommand:null};ke(Z,c);break;case "playlist":c={id:c.id,timestamp:H.timestamp||0,type:H.card_type,teaserText:H.teaser_text,teaserDurationMs:H.teaser_duration_ms,startMs:H.start_ms,autoOpen:H.auto_open||!1,sessionData:H.session_data||{},sponsored:H.sponsored||!1,vu:T,
R_:D.card?g.ZU(D.card):null,DF:D.teaser?g.ZU(D.teaser):null,Ki:D.icon?g.ZU(D.icon):null,T6:H.image_url,playlistVideoCount:H.playlist_video_count,customMessage:H.custom_message?H.custom_message:null,title:H.title,metaInfo:H.meta_info,url:Ii({pause_on_navigation:H.pause_on_navigation,target:H.target||"new",value:H.url}),onClickCommand:null};ke(Z,c);break;case "productListing":H.signin_url&&(W=Ii({target:"current",value:H.signin_url}));v=[];for(var zY=H.offers||[],U=0;U<zY.length;U++)v.push(new rud(g.Hj(zY[U].merchant),
g.Hj(zY[U].price)));c={id:c.id,timestamp:H.timestamp||0,type:H.card_type,teaserText:H.teaser_text,teaserDurationMs:H.teaser_duration_ms,startMs:H.start_ms,autoOpen:H.auto_open||!1,sessionData:H.session_data||{},sponsored:H.sponsored||!1,vu:T,R_:D.card?g.ZU(D.card):null,DF:D.teaser?g.ZU(D.teaser):null,Ki:D.icon?g.ZU(D.icon):null,imageUrl:H.image_url,displayDomain:H.display_domain?H.display_domain:null,showLinkIcon:!!H.show_link_icon,R4:H.button_icon_url?H.button_icon_url:null,title:H.title,customMessage:H.custom_message?
H.custom_message:null,url:Ii({pause_on_navigation:H.pause_on_navigation,target:H.target||"new",value:H.url}),Lrt:W,vRH:H.signin_title?H.signin_title:void 0,VDi:H.signin_message?H.signin_message:void 0,offers:v,onClickCommand:null};ke(Z,c);break;case "simple":c={id:c.id,timestamp:H.timestamp||0,type:H.card_type,teaserText:H.teaser_text,teaserDurationMs:H.teaser_duration_ms,startMs:H.start_ms,autoOpen:H.auto_open||!1,sessionData:H.session_data||{},sponsored:H.sponsored||!1,vu:T,R_:D.card?g.ZU(D.card):
null,DF:D.teaser?g.ZU(D.teaser):null,Ki:D.icon?g.ZU(D.icon):null,imageUrl:H.image_url,displayDomain:H.display_domain?H.display_domain:null,showLinkIcon:!!H.show_link_icon,R4:H.button_icon_url?H.button_icon_url:null,title:H.title,customMessage:H.custom_message?H.custom_message:null,url:Ii({pause_on_navigation:H.pause_on_navigation,target:H.target||"new",value:H.url}),onClickCommand:null};ke(Z,c);break;case "video":c={id:c.id,timestamp:H.timestamp||0,type:H.card_type,teaserText:H.teaser_text,teaserDurationMs:H.teaser_duration_ms,
startMs:H.start_ms,autoOpen:H.auto_open||!1,sessionData:H.session_data||{},sponsored:H.sponsored||!1,vu:T,R_:D.card?g.ZU(D.card):null,DF:D.teaser?g.ZU(D.teaser):null,Ki:D.icon?g.ZU(D.icon):null,T6:H.image_url,videoDuration:H.video_duration||null,customMessage:H.custom_message?H.custom_message:null,title:H.title,metaInfo:H.meta_info,isLiveNow:!!H.is_live_now,url:Ii({pause_on_navigation:H.pause_on_navigation,target:H.target||"new",value:H.url}),onClickCommand:null},ke(Z,c)}}else Gsl(z.W,H);c=!0}}c&&
(Oz(z.player),z.wY())},yo9=function(z,p){var c=!1;
z.W||(z.W=WH1(z),g.l(z,z.W));for(var B=g.m(p.cards||[]),H=B.next();!H.done;H=B.next())H=H.value,H.cardRenderer&&(Nhm(z.W,H.cardRenderer),c=!0);if(c){var T;(T=z.player.getVideoData())!=null&&g.Iy(T)||(c=z.W,B=p.headerText?g.wJ(p.headerText):"",g.xr(c.WM,B),c.S&&c.S.setAttribute("title",B),c.context.videoData.eventId&&(c.eventId=c.context.videoData.eventId),c.Ra=p.trackingParams?g.ZU(p.trackingParams):null,c.G=p.closeButton.infoCardIconRenderer.trackingParams?g.ZU(p.closeButton.infoCardIconRenderer.trackingParams):
null,c.Ki=p.icon.infoCardIconRenderer.trackingParams?g.ZU(p.icon.infoCardIconRenderer.trackingParams):null,z.wY());Oz(z.player)}},v0m=function(z,p,c,B,H){if(!z.player.N().JH){var T=[];
p.navigationEndpoint&&g.I(p.navigationEndpoint,g.dG)&&g.I(p.navigationEndpoint,g.dG).browseId&&T.push(new CvE("openUrl","click",new Wem("/channel/"+g.I(p.navigationEndpoint,g.dG).browseId,"new",!0,!0)));var b=p.watermark.thumbnails[0];B={channel_name:p.channelName,end_ms:p.endTimeMs,image_height:b.height,image_type:1,image_url:b.url,image_width:b.width,is_mobile:!1,session_data:{annotation_id:c,ei:H,feature:"iv",itct:p.trackingParams,src_vid:B},start_ms:p.startTimeMs};if(p.subscribeButton&&g.I(p.subscribeButton,
g.Wf)){B.channel_id=g.I(p.subscribeButton,g.Wf).channelId;var D;p=g.I(p.subscribeButton,g.Wf);b=H=null;p.subscribed?(p.subscriberCountWithUnsubscribeText&&(H=g.wJ(p.subscriberCountWithUnsubscribeText)),p.subscriberCountText&&(b=g.wJ(p.subscriberCountText))):(p.subscriberCountText&&(H=g.wJ(p.subscriberCountText)),p.subscriberCountWithSubscribeText&&(b=g.wJ(p.subscriberCountWithSubscribeText)));var t,X=((t=g.I((D=p.signInEndpoint)==null?void 0:D.commandMetadata,g.Jt))==null?void 0:t.url)||"";D={subscribeText:g.wJ(p.unsubscribedButtonText),
subscribeCount:H||"",unsubscribeText:g.wJ(p.subscribedButtonText),unsubscribeCount:b||"",enabled:p.enabled||!1,classic:!1,subscribed:p.subscribed||!1,feature:"iv",signInUrl:X};B.standalone_subscribe_button_data=D}T=new IXm(c,"branding","branding",T,B);D=S2v(z);z.K.element.appendChild(D);T=new p3(D,BP(z),T);T.Uy();g.l(T,T);z.V[c]=T}},ZHv=function(z,p){return function(){var c=g.L_.apply(0,arguments);
z.qZ()||z.Dt.push(g.sr.lY(function(){p.apply(null,g.A(c))}))}},I$Q=function(z){return z==="annotation-editor"||z==="live-dashboard"};
g.Wv.prototype.Uj=g.BD(45,function(z,p){var c=g.ZH(this.mU());c&&c.Uj(z,p)});
var Ri={},S$=null;g.Bq(Kr,g.ma);g.V=Kr.prototype;g.V.getDuration=function(){return this.duration};
g.V.play=function(z){if(z||this.W==0)this.progress=0,this.coords=this.K;else if(this.isPlaying())return!1;$e(this);this.startTime=z=g.p9();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.X=this.startTime;this.progress||this.fV();this.UM("play");this.isPaused()&&this.UM("resume");this.W=1;var p=g.GY(this);p in Ri||(Ri[p]=this);DiE();tfd(this,z);return!0};
g.V.stop=function(z){$e(this);this.W=0;z&&(this.progress=1);XAK(this,this.progress);this.onStop();this.CI()};
g.V.pause=function(){this.isPlaying()&&($e(this),this.W=-1,this.UM("pause"))};
g.V.m0=function(){this.W==0||this.stop(!1);this.UM("destroy");Kr.QR.m0.call(this)};
g.V.destroy=function(){this.dispose()};
g.V.cF=function(){this.UM("animate")};
g.V.UM=function(z){this.dispatchEvent(new xiK(z,this))};
g.Bq(xiK,g.jS);g.Bq(u1,Kr);u1.prototype.D=function(){};
u1.prototype.cF=function(){this.D();u1.QR.cF.call(this)};
u1.prototype.CI=function(){this.D();u1.QR.CI.call(this)};
u1.prototype.fV=function(){this.D();u1.QR.fV.call(this)};
g.Bq(ECE,u1);ECE.prototype.D=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.Y(Mfd,g.e);g.V=Mfd.prototype;g.V.listen=function(z,p,c,B){c=(0,g.Nv)(c,B||this.K);z=g.uL(z,p,c);this.W.push(z);return z};
g.V.VX=function(z,p,c,B){c=(0,g.Nv)(c,B||this.K);z=bwg(z,p,c);this.W.push(z);return z};
g.V.vy=function(z){g.aw(z);g.f9(this.W,z)};
g.V.removeAll=function(){g.aw(this.W);this.W.length=0};
g.V.m0=function(){this.removeAll();g.e.prototype.m0.call(this)};g.Y(h21,g.Ms);g.V=h21.prototype;g.V.load=function(){g.Ms.prototype.load.call(this);if(!Lr(this)){var z=g.EHY(this.player.getVideoData());z?(z=mim(z,PvK(this)),di(this,z,!1)):Au1(this)}};
g.V.unload=function(){di(this,null);this.X&&(this.X.abort(),this.X=null);g.Ms.prototype.unload.call(this)};
g.V.jh=function(z,p){return Lr(this)?z==="loadCustomEndscreenRenderer"?(z=mim(p,"new"),di(this,z),!0):null:null};
g.V.getOptions=function(){return Lr(this)?["loadCustomEndscreenRenderer"]:[]};
g.V.UW=function(){if(this.endscreen&&this.endscreen.elements){var z=this.player.getVideoContentRect();if(z&&z.width!==0&&z.height!==0){var p=this.player.getPlayerSize();if(p&&p.width!==0&&p.height!==0){var c=z.width/z.height;var B=0;for(var H=-1,T=0;T<jx1.length;T++){var b=Math.abs(p.width-jx1[T]);if(H===-1||B>=b)H=T,B=b}B=FHQ[H];this.D&&g.mm(this.D.element,"outline-width",Math.max(p.width,p.height)+"px");for(p=0;p<this.endscreen.elements.length;++p)if(T=this.endscreen.elements[p].id,H=this.K[T],
b=this.V[T],H&&b){var D=b.width*c/b.aspectRatio,t=Math.round(b.width*z.width);T=Math.round(D*z.height);var X=z.left+Math.round(b.left*z.width),x=z.top+Math.round(b.top*z.height);g.dY(H.element,t,T);g.Rj(H.element,X,x);g.M5(H.element,o0J);t>256||T>256?g.Eo(H.element,"ytp-ce-large-round"):t>96||T>96?g.Eo(H.element,"ytp-ce-medium-round"):g.Eo(H.element,"ytp-ce-small-round");g.M5(H.element,n0E);t=b.left+b.width/2;b=b.top+D/2;g.Eo(H.element,t<=.5&&b<=.5?"ytp-ce-top-left-quad":t>.5&&b<=.5?"ytp-ce-top-right-quad":
t<=.5&&b>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.M5(H.element,FHQ);g.Eo(H.element,B);(H=g.NQ(document,"div","ytp-ce-expanding-overlay-body",H.element)[0])&&g.mm(H,"height",T+"px")}}}}};
g.V.onCueRangeEnter=function(z){if(this.endscreen)if(z.getId()==="ytp-ce-in-endscreen")e$(this,this.endscreen.impressionUrls),(z=g.Wu())&&this.endscreen.visualElement&&g.Dy(z,this.endscreen.visualElement),this.W&&(g.Eo(this.W,"ytp-ce-element-show"),this.W.removeAttribute("aria-hidden"),this.player.Ll()?g.Eo(this.W,"ytp-ce-hide-button-lower"):g.Jn(this.W,"ytp-ce-hide-button-lower"));else{z=z.getId().substring(15);var p=this.K[z],c=this.V[z];g.Eo(p.element,"ytp-ce-element-show");p.element.removeAttribute("aria-hidden");
p=this.player.getRootNode();g.Eo(p,"ytp-ce-shown");e$(this,c.impressionUrls);(p=g.Wu())&&g.Dy(p,c.visualElement);this.player.N().G&&this.player.AD("endscreenelementshown",z)}};
g.V.onCueRangeExit=function(z){if(z.getId()==="ytp-ce-in-endscreen")this.W&&(g.Jn(this.W,"ytp-ce-element-show"),this.W.setAttribute("aria-hidden","true"));else{z=z.getId().substring(15);var p=this.K[z];g.Jn(p.element,"ytp-ce-element-show");p.element.setAttribute("aria-hidden","true");p=this.player.getRootNode();g.Jn(p,"ytp-ce-shown");this.player.N().G&&this.player.AD("endscreenelementhidden",z)}};
g.V.M8H=function(z){var p=this;z.target===window&&(new g.B4(function(){for(var c=g.m(Object.values(p.K)),B=c.next();!B.done;B=c.next())g.M5(B.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.V.DP=function(z){for(var p=g.m(Object.values(this.K)),c=p.next();!c.done;c=p.next())c=c.value,z?c.element.setAttribute("hidden",""):c.element.removeAttribute("hidden")};
g.V.uu$=function(z){this.W&&this.player.getRootNode().removeChild(this.W);z&&(g.Eo(z,"ytp-ce-hide-button-container"),this.W=z,g.F7(this.player,this.W,4))};
var jx1=[346,426,470,506,570,640,853,1280,1920],FHQ="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),n0E=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],o0J=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var yuJ={xOD:"current",De$:"new"};var e2E={CLOSE:"close",ThD:"openUrl",SUBSCRIBE:"subscribe"},lXz={Fui:"click",CLOSE:"close",nG0:"hidden",cII:"rollOut",Kxp:"rollOver",TPp:"shown"};IXm.prototype.BU=function(){var z=jQv(this,function(p){return p.type==="openUrl"&&p.url!=null});
return z?z.url:null};
var l$l={LlA:"anchored",YB:"branding",CHANNEL:"channel",rqq:"cta",i3q:"highlightText",vH$:"label",PLAYLIST:"playlist",POPUP:"popup",qmI:"speech",SUBSCRIBE:"subscribe",gYq:"title",VIDEO:"video",Rjp:"website"},efJ={YB:"branding",lZD:"card",NwI:"drawer",BpH:"highlight",wt$:"marker",wWI:"promotion",TEXT:"text",H9a:"widget"};g.Y(nr,g.e);g.V=nr.prototype;g.V.addCueRange=function(z,p,c,B,H){z=new g.Xq(z,p,{id:c,namespace:"annotations_module"});B&&this.OH.set(z,B);H&&this.NZ.set(z,H);this.context.T.KN([z],1)};
g.V.Uy=function(){this.context.K.subscribe("resize",this.gr,this)};
g.V.XQ=function(){return this.element};
g.V.K_=function(z,p,c,B,H,T){if(this.sH)return!1;T&&(T.stopPropagation(),T.preventDefault());this.navigate(z,c,B,H);return!1};
g.V.show=function(){};
g.V.hide=function(){};
g.V.destroy=function(){g.t3(this.XQ())};
g.V.gr=function(){};
g.V.navigate=function(z,p,c,B){var H=this,T=vB(z);if(T){var b=sQK(T,z.target),D=function(){z.W&&H.context.T.pauseVideo();var t=H.context.videoData.Sd||!1,X=g.XL(T||"");t&&X&&(X.v||X.list)?H.context.T.oH(X.v,p,X.list,!1):g.fJ(T||"",b==="current"?"_top":void 0,p)};
b==="new"&&(D(),D=null);cP(this.context.logger,c,D,B);UiQ(T)||(c=g.Wu(),B=p.itct,c&&B&&g.xj(c,g.ZU(B)))}};
g.V.m0=function(){this.OH.clear();this.NZ.clear();g.e.prototype.m0.call(this)};
g.V.createElement=function(z){z=new g.Q(z);g.l(this,z);return z.element};g.Y(gCJ,nr);g.V=gCJ.prototype;g.V.le=function(){this.Dt&&ke(this,this.Dt)};
g.V.isAvailable=function(){var z;if(z=!!this.cards.length)(z=this.T.getRootNode())?(z=g.Wx(z),z=173<z.width&&173<z.height):z=!1;return z};
g.V.gr=function(){var z=this.isAvailable();g.yM(this.XQ(),z);g.Yf(this.context.T.getRootNode(),g.Ga.IV_DRAWER_ENABLED,z);Oz(this.T)};
g.V.destroy=function(){this.T.Uj(!1);try{this.T.getRootNode().removeChild(this.X)}catch(z){}g.Ej(this.MZ);g.CG(this.rA);this.i8&&this.i8.dispose();this.L&&this.L.dispose();nr.prototype.destroy.call(this)};
g.V.VD=function(){var z=this;this.context.W.listen(g.fH("iv-drawer-close-button",this.X),"click",this.pK,this);this.context.W.listen(this.K,"touchend",function(){z.T$.start()});
this.context.W.listen(this.K,"scroll",this.lE,this);this.context.K.subscribe("onHideControls",function(){z.fH=!0});
this.context.K.subscribe("onShowControls",function(){z.fH=!1});
this.context.K.subscribe("onVideoAreaChange",function(){z.fH=g.xf(z.T.getRootNode(),"ytp-autohide")});
this.MZ.push(g.xg("iv-button-shown",this.Grt,this));this.MZ.push(g.xg("iv-button-hidden",this.ntA,this));BCm(this)};
g.V.findLastIndex=function(z){if(this.cards.length===0)return 0;var p=g.gz(this.cards,function(c){return z.bA.startMs>c.bA.startMs||z.bA.startMs===c.bA.startMs&&z.bA.timestamp>=c.bA.timestamp?!0:!1});
return p===-1?0:p+1};
g.V.pK=function(){if(this.D){cP(this.context.logger,fr(this).vu.close);var z=g.Wu();z&&this.G&&g.xj(z,this.G);sz(this)}};
g.V.lE=function(){g.Yf(this.X,"iv-drawer-scrolled",this.K.scrollTop>0)};
g.V.Grt=function(){var z=g.Wu(),p=fr(this);p=p?p.Ki:this.Ki;z&&p&&g.tQ(z,[p])};
g.V.ntA=function(){var z=g.Wu(),p=fr(this);p=p?p.Ki:this.Ki;z&&p&&g.X9(z,[p])};
g.V.MA=function(){var z=fr(this);cP(this.context.logger,z.vu.F$);var p=g.Wu();if(p&&z)if(this.T.Y("web_infocards_teaser_show_logging_fix")){var c=[];z.DF&&c.push(z.DF);z.Ki&&c.push(z.Ki);c.length>0&&g.tQ(p,c)}else g.tQ(p,[z.DF,z.Ki])};
g.V.BtZ=function(){var z=g.Wu(),p=fr(this);z&&p&&g.X9(z,[p.DF])};
g.V.aA=function(z){var p=fr(this),c=g.Wu();this.W?z?(z=this.context.logger,cP(z,p.vu.Lh),z.T.sendVideoStatsEngageEvent(4,void 0),c&&p.DF&&g.xj(c,p.DF)):(z=this.context.logger,cP(z,p.vu.Lh),z.T.sendVideoStatsEngageEvent(4,void 0),c&&p.Ki&&g.xj(c,p.Ki)):(z=this.context.logger,cP(z,p.vu.Lh),z.T.sendVideoStatsEngageEvent(4,void 0),c&&this.Ki&&g.xj(c,this.Ki))};g.Y(z2,nr);z2.prototype.Uy=function(){nr.prototype.Uy.call(this);thK(this)};
z2.prototype.show=function(){nr.prototype.show.call(this);var z=g.Wu(),p=this.annotation.data;z&&p&&(p=p.session_data)&&g.tQ(z,[g.ZU(p.itct)])};
z2.prototype.hide=function(){nr.prototype.hide.call(this);var z=g.Wu(),p=this.annotation.data;z&&p&&(p=p.session_data)&&g.X9(z,[g.ZU(p.itct)])};g.Y(p3,z2);
p3.prototype.show=function(){if(!this.isActive){z2.prototype.show.call(this);if(!this.G){g.Eo(this.XQ(),"iv-branding");var z=this.annotation.data;this.K=this.createElement({j:"img",LH:["branding-img","iv-click-target"],C:{"aria-label":"Channel watermark",src:z.image_url,width:z.image_width,height:z.image_height}});g.yM(this.K,!1);var p=this.createElement({j:"button",LH:["branding-img-container","ytp-button"]});p.appendChild(this.K);this.XQ().appendChild(p);var c=this.annotation.BU();c&&Qb(this,p,
c,this.annotation.id,z.session_data);this.context.T.Y("disable_branding_context")||q2g(this,z);this.G=!0}g.yM(this.XQ(),!0);this.isActive=!0;if(this.K){try{XjE(this,this.K)}catch(B){}g.Eo(this.context.T.getRootNode(),"ytp-branding-shown");this.context.T.getRootNode().style.setProperty("--branding-image-width",this.K.getAttribute("width")+"px")}}};
p3.prototype.hide=function(){this.isActive&&(z2.prototype.hide.call(this),g.yM(this.XQ(),!1),this.isActive=!1,g.Jn(this.context.T.getRootNode(),"ytp-branding-shown"))};
p3.prototype.destroy=function(){this.W&&(this.W.dispose(),this.W=null);g.Jn(this.context.T.getRootNode(),"ytp-branding-shown");z2.prototype.destroy.call(this)};g.Y(Mhg,z2);g.V=Mhg.prototype;g.V.show=function(){this.isActive||(z2.prototype.show.call(this),this.U||(mQ1(this),this.U=!0),g.yM(this.XQ(),!0),g.d6(function(){g.Jn(this.XQ(),"iv-promo-inactive")},100,this),this.XQ().removeAttribute("aria-hidden"),this.isActive=!0,OHQ(this),hfg(this),PUJ(this,this.V))};
g.V.hide=function(){this.isActive&&(g.Eo(this.XQ(),"iv-promo-inactive"),this.isActive=!1,this.XQ().setAttribute("aria-hidden","true"))};
g.V.K_=function(z,p,c,B,H,T){return this.isCollapsed?!1:z2.prototype.K_.call(this,z,p,c,B,H,T)};
g.V.xZI=function(z){this.S=!0;Y21(this,500,z)};
g.V.rDq=function(){this.S=!1;Ao9(this)};
g.V.ftq=function(z){z.stopPropagation();this.hide()};
g.V.qHt=function(z){z.stopPropagation();OHQ(this);this.isCollapsed=!0;g.Eo(this.XQ(),"iv-promo-collapsed-no-delay");this.L.start()};
g.V.destroy=function(){this.L.dispose();z2.prototype.destroy.call(this)};g.Y(Rfg,g.Ms);g.V=Rfg.prototype;g.V.jh=function(z,p){if(!I$Q(this.player.N().playerStyle))return null;switch(z){case "loadCustomAnnotationsXml":return(z=g.Qp(p))&&a$d(this,z),!0;case "removeCustomAnnotationById":return p&&this.W&&(zfJ(this.W,p),Oz(this.player)),!0}return null};
g.V.getOptions=function(){return I$Q(this.player.N().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.V.O$=function(){var z=this.player.N(),p=this.player.getVideoData(),c=z.annotationsLoadPolicy||p.annotationsLoadPolicy;return g.VP(p)||this.player.isMutedByEmbedsMutedAutoplay()?!1:c===1&&!p.tU||z.YA.get(p.videoId)||g.jN(p)||g.Fl(p)?!0:!1};
g.V.wY=function(){if(this.D){var z=this.player.Hq().getVideoContentRect(!0);g.dY(this.D.element,z.width,z.height);g.Rj(this.D.element,z.left,z.top)}if(this.W){var p=this.player.Ub();z=this.W;p=p.width;g.Yf(z.X,"iv-drawer-small",p<=426);g.Yf(z.X,"iv-drawer-big",p>=1280)}};
g.V.eE=function(z){$QE(this,z.state);g.r(z.state,2)&&(this.Ll()&&this.Qd()&&this.player.getPresentingPlayerType()!==2&&this.kQ(!1),this.Uj(!1))};
g.V.load=function(){function z(b){var D=p.loadNumber;p.L=null;p.loaded&&p.loadNumber===D&&p.player.getVideoData().videoId===B&&(b=g.A6(b)&&b.responseXML?b.responseXML:null)&&(a$d(p,b),g.Eo(p.player.getRootNode(),"iv-module-loaded"))}
var p=this;g.Ms.prototype.load.call(this);$QE(this,this.player.getPlayerStateObject());this.loadNumber++;var c=this.player.getVideoData(),B=c.videoId;g.V2()&&(z=ZHv(this,z));var H={format:"XML",onFinish:z,onError:function(){p.L=null},
urlParams:{}};c.isPharma&&(H.urlParams.pharma="1");H.method="POST";H.withCredentials=!0;var T=this.player.N().YA.get(B);T&&LHz(H,T);T=T&&(T.L7||T.Pm);if(!c.pJ||T)c.Zt?KH1(this,c.Zt,H):(this.G=function(){if(!p.S)p.onVideoDataChange(H);var b=p.player.getVideoData();(b==null?0:g.Iy(b))&&!p.MZ&&CUL(p,b)},this.player.addEventListener("videodatachange",this.G));
g.F7(this.player,this.D.element,4);this.wY();(T=g.jN(c))&&yo9(this,T);(T=g.Fl(c))&&T.featuredChannel&&v0m(this,T.featuredChannel,T.annotationId||"branding",c.videoId||null,c.eventId||null);this.rk=g.fH("ytp-cards-button",this.player.getRootNode());g.Iy(c)&&CUL(this,c)};
g.V.onVideoDataChange=function(z){var p=this.player.getVideoData();p.Zt&&KH1(this,p.Zt,z)};
g.V.unload=function(){this.player.gs("annotations_module");for(var z=g.m(Object.keys(this.V)),p=z.next();!p.done;p=z.next())this.V[p.value].destroy();this.U=null;this.W&&(this.W.destroy(),this.W=null,Oz(this.player));this.S=!1;this.L&&(this.L.abort(),this.L=null);this.MZ=!1;this.V={};this.K.hide();g.Ms.prototype.unload.call(this);this.D.detach();this.G&&(this.player.removeEventListener("videodatachange",this.G),this.G=null)};
g.V.Ri=function(z){z===this.player.getVideoData().videoId&&(this.loaded?dQq(this):this.load())};
g.V.Ll=function(){var z;return((z=this.W)==null?void 0:z.isAvailable())||this.MZ};
g.V.Qd=function(){return!!this.W&&this.W.D};
g.V.kQ=function(z,p,c){p=p===void 0?!1:p;this.Ll();this.W&&(z?c?Uz(this.W,c,p):Uz(this.W,"YOUTUBE_DRAWER_AUTO_OPEN",p):sz(this.W))};
g.V.Uj=function(z,p){this.player.publish(z?"cardsteasershow":"cardsteaserhide",p)};
g.V.m0=function(){this.player.N().YA.unsubscribe("vast_info_card_add",this.Ri,this);g.Jn(this.player.getRootNode(),g.Ga.IV_DRAWER_OPEN);for(var z=this.Dt,p=g.sr,c=0,B=z.length;c<B;c++)p.YE(z[c]);this.Dt.length=0;g.Ms.prototype.m0.call(this)};
g.V.createElement=function(z){z=new g.Q(z);g.l(this,z);return z.element};g.JV("annotations_module",Rfg);g.JV("creatorendscreen",h21);})(_yt_player);
